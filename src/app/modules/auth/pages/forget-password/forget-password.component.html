<form
  *ngIf="!canChange()"
  [formGroup]="userForm"
  class="form"
  (ngSubmit)="userForm.valid && submit()"
  #form="ngForm"
>
  <h2 class="title">Mot de passe oublié!</h2>

  <div class="float">
    <label for="email">Email</label>
    <input
      pInputText
      id="email"
      formControlName="email"
      class="input-field pl-2"
    />
  </div>
  <div
    class="error"
    *ngIf="form.submitted && userForm.controls['email'].errors"
  >
    <div
      class="error"
      [hidden]="!userForm.controls['email'].errors['required']"
    >
      L'email est requis
    </div>
    <div class="error" [hidden]="!userForm.controls['email'].errors['email']">
      verifier le format de l'email
    </div>
  </div>
  <div class="control">
    <h3 class="mb-4">envoyez un email de réinitilisation?</h3>
    <p-button
      class="p-8"
      [type]="'submit'"
      label="Valider"
      icon="pi pi-check"
      iconPos="right"
      severity="primary"
    />
  </div>
</form>
<h1 class="message px-8" *ngIf="canChange()">{{ message() }}</h1>
